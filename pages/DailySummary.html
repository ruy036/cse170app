<!doctype html>
<link rel="stylesheet" href="../html/style.css">
<html lang="en">

<html>
<body>
    <div id="sideMenu" class="sideMenu">
        <a class="closeb" onclick="closeSideMenu()">Close Menu</a>
        <a href="MyProfile.html">My Profile</a>
        <a href="DailySummary.html">Daily Summary</a>
        <a href="PersonalizedPlan.html">Personalized Plan</a> 
        <a href="MyFood.html">My Food</a>
        <a id="logoutb" href="../index.html">log out</a>
    </div>
    <span onclick=openSideMenu()>menu</span>

    <h1>Daily Summary</h1>
    <p>
        <span class="overlayOpen"
        onclick=openFoodOverlay()> Add Food </span>
        <span class="overlayOpen"
        onclick="openSuggestionOverlay()"> Suggestion </span>

    </p>

    <div id="dsFoodOverlay" class="overlay">
        <a>
            <a id="rhpp"
            class="result2"
            onclick=foodChosen()>
                My Example Food            
            </a>
            <a id="rlff"
            class="result2"
            onclick=foodChosen()>
                My Example Food
            </a>
            <a id="hfff"
            class="result2"
            onclick=foodChosen()>
                My Example Food
            </a>
            <a id="lsff"
            class="result2"
            onclick=foodChosen()>
                My Example Food
            </a>
        </a>
        <a>
            <span class="closeb" onclick="closeFoodOverlay()">Cancel</span>
        </a>
        
    </div>

    <div id="dsSuggestionOverlay" class="overlay">
        <h2>Suggestions</h2>
        <a><span id="hp"
        class="optionSelect"
        onclick=optionSelected(this.id)>
            High Protein
        </span>
        <span id="lf"
        class="optionSelect"
        onclick=optionSelected(this.id)>
            Low Fat
        </span>
        <span id="hf"
        class="optionSelect"
        onclick=optionSelected(this.id)>
            High Fiber
        </span>
        <span id="ls"
        class="optionSelect"
        onclick=optionSelected(this.id)>
            Low Sugar
        </span></a>
        <a>
            <span class="submit" onclick="suggestionsChecked()">Submit</span>
            <span class="closeb" onclick="closeSuggestionOverlay()">Cancel</span>
        </a>
        <a>
            <a id="rhp"
            class="result"
            onclick=suggestionChosen()>
                High Protein Food
            </a>
            <a id="rlf"
            class="result"
            onclick=suggestionChosen()>
                Low Fat Food
            </a>
            <a id="hff"
            class="result"
            onclick=suggestionChosen()>
                High Fiber Food
            </a>
            <a id="lsf"
            class="result"
            onclick=suggestionChosen()>
                Low Sugar Food
            </a>
        </a>
        
        </div>

    <h2> Remaining </h2>
    <table id="nutrientTable">
        <tr>
            <th>Calories</th>
            <th class="row">Cal</th>
            <th class="rowp">100%</th>
        </tr>
        <tr>
            <th>Carbohydrates</th>
            <th class="row">g</th>
            <th class="rowp">100%</th>
        </tr>
        <tr>
            <th>Fat</th>
            <th class="row">g</th>
            <th class="rowp">100%</th>
        </tr>
        <tr>
            <th>Protein</th>
            <th class="row">g</th>
            <th class="rowp">100%</th>
        </tr>
        <tr>
            <th>Fiber</th>
            <th class="row">g</th>
            <th class="rowp">100%</th>
        </tr>
        <tr>
            <th>Sugar</th>
            <th class="row">g</th>
            <th class="rowp">100%</th>
        </tr>
        <tr>
            <th>Sodium</th>
            <th class="row">mg</th>
            <th class="rowp">100%</th>
        </tr>
    </table>

    <h2> Today's Summary </h2>
    <table id="consumedTable">
        <tr>
            <th>Example Food</th>
            <th>nutrients</th>
            <th class=removeRow
            onclick=removeFood()>remove</th>
        </tr>        
    </table>

<script>
    function openSideMenu() {
        document.getElementById("sideMenu").style.width = "50%";
    }
            
    function closeSideMenu() {
        document.getElementById("sideMenu").style.width = "0";
    }

    function openFoodOverlay() {
        document.getElementById("dsFoodOverlay").style.width = "100%";
    }
            
    function closeFoodOverlay() {
        document.getElementById("dsFoodOverlay").style.width = "0";
    }

    function openSuggestionOverlay(){
        document.getElementById("dsSuggestionOverlay").style.width = "100%";
    }
            
    function closeSuggestionOverlay() 
    {
        document.getElementById("dsSuggestionOverlay").style.width = "0";
    }

    function optionSelected(id)
    {
       var bgc = document.getElementById(id).style.backgroundColor;
       
       if(bgc == "darkslategray")
       {
        document.getElementById(id).style.backgroundColor= "green";
       }
       else
       {
        document.getElementById(id).style.backgroundColor = "darkslategray";
       }
    }

    function suggestionsChecked()
    {
        var options = document.getElementsByClassName("optionSelect");
        var results = document.getElementsByClassName("result");
        for(var i=options.length-1;i>=0;i--)
        {
            if(options[i].style.backgroundColor == "green")
            {
                document.getElementById(results[i].id).style.visibility="visible";
            }
            else
            {
                document.getElementById(results[i].id).style.visibility="hidden";
            }
        }
    }

    function addFood()
    {
        var nutrients = [500,30,20,20,10,10,500];
        var rows = document.getElementsByClassName("row");
        var col2 = document.getElementsByClassName("rowp");
        for(var i=0;i<rows.length;i++)
        {
            rows[i].prepend(nutrients[i]+" ");
            col2[i].textContent = 100-nutrients[i]+"%";
            if(100-nutrients[i]<0)
            {
                col2[i].style.backgroundColor = "red";
            }
        }
        document.getElementById("consumedTable").style.visibility="visible";
    }

    function removeFood()
    {
        var nutrients = ["500","30","20","20","10","10","500"];
        var rows = document.getElementsByClassName("row");
        var col2 = document.getElementsByClassName("rowp");
        for(var i=0;i<rows.length;i++)
        {
            rows[i].textContent = "g";
            col2[i].textContent = "100%";
            col2[i].style.backgroundColor="green";
        }
        rows[0].textContent = "Cal";
        rows[rows.length-1].textContent = "mg";
        document.getElementById("consumedTable").style.visibility="hidden";
    }

    function suggestionChosen()
    {
        addFood();
        closeSuggestionOverlay();
    }

    function foodChosen()
    {
        addFood();
        closeFoodOverlay();
    }

</script>

</body>
</html>